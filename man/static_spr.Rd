% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/staticSPR.R, R/staticSPR_DHO.R
\name{static_spr}
\alias{static_spr}
\alias{static_spr_alt}
\title{Function to calculate static spawning potential ratio}
\usage{
static_spr(
  Linf,
  K,
  t0,
  FLR,
  FLRint,
  FLRslope,
  MatAge,
  percF,
  percFSpawn,
  M = NULL,
  F = NULL,
  MUnder = NULL,
  MIn = NULL,
  MAbove = NULL,
  FUnder = NULL,
  FIn = NULL,
  FAbove = NULL,
  tmax,
  slot = FALSE,
  minLL = NULL,
  recruitmentTL = NULL,
  lowerSL = NULL,
  upperSL = NULL
)

static_spr_alt(
  tmax,
  ageInterval,
  Linf,
  K,
  t0,
  FLR,
  FLRint,
  FLRslope,
  MatAge,
  percF,
  percFSpawn,
  L,
  M,
  F
)
}
\arguments{
\item{Linf}{A single numeric that represents the point estimate of asymptotic mean length from the von Bertalanffy growth model OR an \code{nls} object created from fitting the von Bertalanffy equation to length-at-age data.}

\item{K}{A single numeric that represents the point estimate of the Brody growth coefficient from the von Bertalanffy growth model.}

\item{t0}{A single numeric that represents the point estimate of the x-intercept (i.e., theoretical age at a mean length of 0) from the von Bertalanffy growth model.}

\item{FLR}{A single character to indicate the fecundity-length relationship; either "linear" or "log10".}

\item{FLRint}{A single numeric that represents the intercept of the fecundity-length relationship.}

\item{FLRslope}{A single numeric that represents the slope of the fecundity-length relationship.}

\item{MatAge}{A single integer that represents the age at maturity.}

\item{percF}{A numeric vector representing the percentage of females at each age, starting at age-1.}

\item{percFSpawn}{A numeric vector representing the percentage of spawning females at each age, starting at age-1.}

\item{M}{A numeric that represents natural mortalities for the length intervals in \code{L}. See details and examples.}

\item{F}{A numeric that represents fishing mortalities for the length intervals in \code{L}. See details and examples.}

\item{MUnder}{A single numeric that represents natural mortality under the slot limit.}

\item{MIn}{A single numeric that represents natural mortality within the slot limit.}

\item{MAbove}{A single numeric that represents natural mortality above the slot limit.}

\item{FUnder}{A single numeric that represents fishing mortality under the slot limit.}

\item{FIn}{A single numeric that represents fishing mortality within the slot limit.}

\item{FAbove}{A single numeric that represents fishing mortality above the slot limit.}

\item{tmax}{A single numeric that represents the maximum age of fish.}

\item{slot}{A boolean indicating if a slot limit is used (TRUE) or if a minmium length limit is used (FALSE)}

\item{minLL}{A single numeric that represents the minimum length limit for harvestable size}

\item{recruitmentTL}{A single numeric that represents the total length (mm) fish are recruited to the fishery (i.e., will be harvested)}

\item{lowerSL}{A single numeric that represents the total length (mm) of the lower limit of the slot limit}

\item{upperSL}{A single numeric that represents the total length (mm) of the upper limits of the slot limit}

\item{ageInterval}{A single numeric that represents the interval of ages to be used (e.g., 0.1 means that ages will be modeled by tenths of a year).}

\item{L}{A numeric vector of lengths where mortality may change. Will assume first value is 0 if not provided. See details and examples.}
}
\description{
Calculates the static spawning potential ratio with the yield-per-recruit model

Calculates the static spawning potential ratio with the yield-per-recruit model
}
\details{
This function is generally not used independently. It is called when requesting the spawning potential ratio while calculating yield-per-recruit.

This function is generally not used independently. It is called when requesting the spawning potential ratio while calculating yield-per-recruit.
}
\examples{
# Estimate spawning potential ratio for fixed parameters with a single minimum length limit
spr_1 <- static_spr(Linf = 1349.5, K = 0.111, t0 = 0.065, FLR = "linear", FLRint = -1057029,
                    FLRslope = 2777.08, MatAge = 4,
                    percF = c(0,0,0,rep(0.50,27)),
                    percFSpawn = c(0,0,0,0.24,0.24,0.53,rep(1.00,24)),
                    M = 0.198, F = 0.105, tmax = 30, slot = FALSE, minLL = 250)
spr_1

#' # Estimate spawning potential ratio for fixed parameters with a slot limit
spr_2 <- static_spr(Linf = 1349.5, K = 0.111, t0 = 0.065, FLR = "linear", FLRint = -1057029,
                    FLRslope = 2777.08, MatAge = 4,
                    percF = c(0,0,0,rep(0.50,27)),
                    percFSpawn = c(0,0,0,0.24,0.24,0.53,rep(1.00,24)),
                    MUnder = 0.35667, MIn = 0.35667, MAbove = 0.35667,
                    FUnder = 0.28768, FIn = 0.91629, FAbove = 0.16252,
                    tmax = 30, slot = TRUE, recruitmentTL = 200, lowerSL = 300, upperSL = 400)
spr_2
#===== Spawning potential ratio for fixed parameters with a single minimum length limit
#----- FAMS inputs
cf <- 0.1
cm <- 0.18
percF <- c(0,0,0,rep(0.50,27))
percFSpawn <- c(0,0,0,0.24,0.24,0.53,rep(1.00,24))
L <- 280    # MLL
#----- Convert cf & cm to F and M
F <- c(0,-log(1-cf))
M <- rep(-log(1-cm),length(F))

#----- Run DHO's version of the SPR estimating functions with FAMS inputs
#      Adjust ageInterval to test effect of fine-tuning ages on estimates
spr_1a <- static_spr_alt(tmax = 30, ageInterval=0.1,
                         Linf = 1349.5, K = 0.111, t0 = 0.065,
                         FLR = "linear", FLRint = -1057029, FLRslope = 2777.08,
                         MatAge = 4, percF = percF, percFSpawn = percFSpawn,
                         L = L, M = M, F = F)
spr_1a
# Examine what mortalities look like by length intervals
plot_FM(spr_1a)


#===== pawning potential ratio for fixed parameters with a slot limit
L <- c(200,300,400)  ## Recruitment L, then lower & upper L for harvest slot
                     ## ... F outside slot is hooking mortality???
F <- c(0,0.28768,0.91629,0.16252)
M <- rep(0.35667,length(F))

spr_2a <- static_spr_alt(tmax = 30, ageInterval=0.1,
                         Linf = 1349.5, K = 0.111, t0 = 0.065,
                         FLR = "linear", FLRint = -1057029, FLRslope = 2777.08,
                         MatAge = 4, percF = c(0,0,0,rep(0.50,27)),
                         percFSpawn = c(0,0,0,0.24,0.24,0.53,rep(1.00,24)),
                         L = L, M = M, F = F)
spr_2a
plot_FM(spr_2a)

}
\author{
Jason C. Doll, \email{jason.doll@fmarion.edu}
}
