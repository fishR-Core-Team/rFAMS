<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Main function to simulate expected yield using the Dynamic Pool model for a range of input parameters, including minimum length limits for harvest — dpmBH_MinLL_fixed • rFAMS</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Main function to simulate expected yield using the Dynamic Pool model for a range of input parameters, including minimum length limits for harvest — dpmBH_MinLL_fixed"><meta name="description" content="Estimate yield using the Beverton-Holt Yield-per-Recruit (YPR) model using ranges of values for conditional fishing mortality (cf), conditional natural mortality (cm), and minimum length limits for harvest (minLL)."><meta property="og:description" content="Estimate yield using the Beverton-Holt Yield-per-Recruit (YPR) model using ranges of values for conditional fishing mortality (cf), conditional natural mortality (cm), and minimum length limits for harvest (minLL)."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">rFAMS</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.0.2</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-demonstrations" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Demonstrations</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-demonstrations"><li><a class="dropdown-item" href="../articles/MakeLH.html">Create life history object</a></li>
    <li><a class="dropdown-item" href="../articles/YPR_fixedMLL.html">Estimate yield based on a single minimum length limit</a></li>
    <li><a class="dropdown-item" href="../articles/YPR_VarMLL.html">Estimate yield based on multiple minimum length limit</a></li>
    <li><a class="dropdown-item" href="../articles/YPR_slotLimit.html">Estimate yield based on a slot length limit</a></li>
    <li><a class="dropdown-item" href="../articles/dpmBH.html">Simulate a population using the dynamic pool model</a></li>
  </ul></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-explanations" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Explanations</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-explanations"><li><a class="dropdown-item" href="../articles/YPR_FAMSvRICKER.html">Comparing FAMS and Ricker YPR Equations</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><a class="nav-link" href="../news/index.html" aria-label="See package news"><span class="fa fa-newspaper"></span></a></li>
<li class="nav-item"><a class="nav-link" href="../index.html" aria-label="Goto rFAMS home"><span class="fa fa-home"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/fishR-Core-Team/rFAMS" aria-label="Goto rFAMS github page"><span class="fa fa-github"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Main function to simulate expected yield using the Dynamic Pool model for a range of input parameters, including minimum length limits for harvest</h1>
      <small class="dont-index">Source: <a href="https://github.com/fishR-Core-Team/rFAMS/blob/HEAD/R/dpmBH_MinLL_fixed.R" class="external-link"><code>R/dpmBH_MinLL_fixed.R</code></a></small>
      <div class="d-none name"><code>dpmBH_MinLL_fixed.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Estimate yield using the Beverton-Holt Yield-per-Recruit (YPR) model using ranges of values for conditional fishing mortality (<code>cf</code>), conditional natural mortality (<code>cm</code>), and minimum length limits for harvest (<code>minLL</code>).</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">dpmBH_MinLL_fixed</span><span class="op">(</span></span>
<span>  <span class="va">simyears</span>,</span>
<span>  <span class="va">minLL</span>,</span>
<span>  <span class="va">cf</span>,</span>
<span>  <span class="va">cm</span>,</span>
<span>  <span class="va">rec</span>,</span>
<span>  <span class="va">lhparms</span>,</span>
<span>  matchRicker <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  species <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  group <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-simyears">simyears<a class="anchor" aria-label="anchor" href="#arg-simyears"></a></dt>
<dd><p>A single numeric for the lower limit of minimum length limit for harvest in mm.</p></dd>


<dt id="arg-minll">minLL<a class="anchor" aria-label="anchor" href="#arg-minll"></a></dt>
<dd><p>A single numeric representing the minimum length limit for harvest in mm.</p></dd>


<dt id="arg-cf">cf<a class="anchor" aria-label="anchor" href="#arg-cf"></a></dt>
<dd><p>A matrix of conditional fishing mortality where each row represents a year and each column represents age. Ages are age-0 through maximum age.</p></dd>


<dt id="arg-cm">cm<a class="anchor" aria-label="anchor" href="#arg-cm"></a></dt>
<dd><p>A matrix of conditional natural mortality where each row represents a year and each column represents age. Ages are age-0 through maximum age.</p></dd>


<dt id="arg-rec">rec<a class="anchor" aria-label="anchor" href="#arg-rec"></a></dt>
<dd><p>A A numeric vector of length <code>simyears</code> to specify recruitment each year. The vector can be geneated using the <code><a href="genRecruits.html">genRecruits()</a></code> function.</p></dd>


<dt id="arg-lhparms">lhparms<a class="anchor" aria-label="anchor" href="#arg-lhparms"></a></dt>
<dd><p>A named vector or list that contains values for each <code>N0</code>, <code>tmax</code>, <code>Linf</code>, <code>K</code>, <code>t0</code>, <code>LWalpha</code>, and <code>LWbeta</code>. See <code><a href="makeLH.html">makeLH</a></code> for definitions of these life history parameters. Also see details.</p></dd>


<dt id="arg-matchricker">matchRicker<a class="anchor" aria-label="anchor" href="#arg-matchricker"></a></dt>
<dd><p>A logical that indicates whether the yield function should match that in Ricker (). Defaults to <code>TRUE</code>. The only reason to changed to <code>FALSE</code> is to try to match output from FAMS. See the "YPR_FAMSvRICKER" article.</p></dd>


<dt id="arg-species">species<a class="anchor" aria-label="anchor" href="#arg-species"></a></dt>
<dd><p>is a single character to specify the species used in the simulation and will define the length for <code>stock</code>, <code>quality</code>, <code>preferred</code>, <code>memorable</code>, and <code>trophy</code>. Length categories are obtained from the FSA package, see the <code><a href="https://fishr-core-team.github.io/FSA/reference/PSDlit.html" class="external-link">PSDlit</a></code> documentation.</p></dd>


<dt id="arg-group">group<a class="anchor" aria-label="anchor" href="#arg-group"></a></dt>
<dd><p>is a single character to specify the sub-group name of a species used in the simulation and will define the length for <code>stock</code>, <code>quality</code>, <code>preferred</code>, <code>memorable</code>, and <code>trophy</code>. Length categories are obtained from the FSA package, see the <code><a href="https://fishr-core-team.github.io/FSA/reference/PSDlit.html" class="external-link">PSDlit</a></code> documentation.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A list with two data.frame object. The first list item named <code>sumbyAge</code> contains a data.frame with the following calculated values in a summary by age:</p><ul><li><p><code>year</code> is the year number for the simulation</p></li>
<li><p><code>yc</code>is the year class number for the simulation</p></li>
<li><p><code>age</code> is the age of fish from the year class</p></li>
<li><p><code>length</code> is the length at age at the beginning of the year based on parameters supplied for the von Bertlanffy growth model.</p></li>
<li><p><code>weight</code> is the total weight at the beginning of the year for length at age based on the parameters supplied for the weight-length model.</p></li>
<li><p><code>N_start</code> is the number of fish alive at the start of the year for the given age and year class.</p></li>
<li><p><code>explitation</code> is the exploitation rate at age based on the supplied conditional fishing mortality rate.</p></li>
<li><p><code>expect_nat_death</code> is the expectation of natural death based on the supplied conditional natural mortality rate.</p></li>
<li><p><code>cf</code> is the supplied conditional fishing mortality rate.</p></li>
<li><p><code>cm</code> is the supplied conditional natural mortality rate.</p></li>
<li><p><code>F</code> is the instantaneous rate of fishing mortality.</p></li>
<li><p><code>M</code> is the instantaneous rate of natural mortality.</p></li>
<li><p><code>Z</code> is the instantaneous rate of total mortality.</p></li>
<li><p><code>S</code> is the (total) annual rate of survival.</p></li>
<li><p><code>biomass</code> is the total biomass of fish at age and year</p></li>
<li><p><code>N_harvest</code> is the total number of fish harvested at age and year</p></li>
<li><p><code>N_die</code> is the total number of fish that die at age and year</p></li>
<li><p><code>yield</code> is the estimated yield (in g).</p></li>
<li><p><code>minLL</code> is the minimum length limit specified in the simulation</p></li>
<li><p><code>N0</code> is the number of initial</p></li>
</ul><p>For convenience the data.frame also contains the model input values (<code>minLL</code>, <code>N0</code>, <code>N0</code>, <code>Linf</code>, <code>K</code>, <code>t0</code>, <code>LWalpha</code>, <code>LWbeta</code>, and <code>tmax</code>).</p>
<p>The data.frame also contains a <code>notes</code> value which may contain abbreviations for "issues" that occurred when computing the results and were adjusted for. The possible abbreviates are as follows:</p>
<ul><li><p><code>minLL&gt;=Linf</code>: The minimum length limit (minLL) being explored was greater than the given asymptotic mean length (Linf). For the purpose (only) of computing the time at recruitment to the fishery (tr) the Linf was set to minLL+0.1.</p></li>
<li><p><code>tr&lt;t0</code>: The age at recruitment to the fishery (tr) was less than the hypothetical time when the mean length is zero (t0). The fish can't recruit to the fishery prior to having length 0 so tr was set to t0. This also assures that the time it takes to recruit to the fishery is greater than 0.</p></li>
<li><p><code>Y=Infinite</code>: The calculated yield (Y) was infinity, which is impossible and suggests some other propblem. Yield was set to NA.</p></li>
<li><p><code>Y&lt;0</code>: The calculated yield (Y) was negative, which is impossible. Yield was set to 0.</p></li>
<li><p><code>Nharv&lt;0</code>: The calculated number of fish harvested (Nharv) was negative, which is not possible. Number harvested was set to 0.</p></li>
<li><p><code>Ndie&lt;0</code>: The calculated number of fish recruiting to the fishery that died naturally (Ndie) was negative, which is not possible. Number that died was set to 0.</p></li>
<li><p><code>agvglen&lt;minLL</code>: The average length of harvested fish was less than the given minimum length limit being explored, which is not possible (with only legal harvest). The average length was set to the minimum length limit.</p></li>
</ul><p>The second list item named <code>sumbyYear</code> contains a data.frame with the following calculated values in a summary by year:</p><ul><li><p><code>year</code> is the year number for the simulation</p></li>
<li><p><code>substock</code> is the number of substock sized fish at age and year at the beginning of the year.</p></li>
<li><p><code>stock</code> is the number of stock sized fish at age and year at the beginning of the year.</p></li>
<li><p><code>quality</code> is the number of quality sized fish at age and year at the beginning of the year.</p></li>
<li><p><code>preferred</code> is the number of preferred sized fish at age and year at the beginning of the year.</p></li>
<li><p><code>memorable</code> is the number of memorable sized fish at age and year at the beginning of the year.</p></li>
<li><p><code>trophy</code> is the number of trophy sized fish at age and year at the beginning of the year.</p></li>
<li><p><code>PSD</code> is the number of quality sized fish divided by the number of stock sized multiplied by 100.</p></li>
<li><p><code>PSD_P</code> is the number of preferred sized fish divided by the number of stock sized multiplied by 100.</p></li>
<li><p><code>PSD_M</code> is the number of memorable sized fish divided by the number of stock sized multiplied by 100.</p></li>
<li><p><code>PSD_T</code> is the number of trophy sized fish divided by the number of stock sized multiplied by 100.</p></li>
<li><p><code>Age_1plus</code> is the total number of fish age-1 plus per year.</p></li>
<li><p><code>Yield_Age_1plus</code> is the total year of age-1 plus fish per year.</p></li>
<li><p><code>Total_biomass</code> is the total biomass of age-1 plus fish per year.</p></li>
<li><p><code>N_harvest_Age_1plus</code> is the number of age-1 plus fish that are harvested per year.</p></li>
<li><p><code>N_die_Age_1plus</code> is the nubmer of age-1 plus fish that die per year.</p></li>
</ul><p>PSD-X are calculated based on the number of fish in each category (<code>stock</code>, <code>quality</code>, <code>preferred</code>, <code>memorable</code>, and <code>trophy</code>) at the beginning of the year. That is, the length at age during the start of the year is used to assign PSD-X categories at age. For example, if Quality size is 300mm, an age-1 fish at 275mm at the start of the year would not be counted as a quality sized fish, but an age-2 fish at 325mm at the start of the year would be counted as a quality sized fish.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Details</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="yprBH_func.html">yprBH_func</a></code> for estimating yield from single values of <code>cf</code>, <code>cm</code>, and <code>minLL</code>, and <code><a href="yprBH_minLL_fixed.html">yprBH_minLL_fixed</a></code> for simulating yield with multiple values of <code>cf</code> and <code>cm</code> but a fixed value for <code>minLL</code>.</p>
<p>See <a href="file:///C:/Users/jason.doll/Documents/fishRCoreTeam/rFAMS/docs/articles/dpmBH.html">this demonstration page</a> for more plotting examples</p></div>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Jason C. Doll, <a href="mailto:jason.doll@fmarion.edu">jason.doll@fmarion.edu</a></p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co">#load required library</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Attaching package: 'dplyr'</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> The following objects are masked from 'package:stats':</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>     filter, lag</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> The following objects are masked from 'package:base':</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>     intersect, setdiff, setequal, union</span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Example of simulating yield with the dynamic pool model,</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">lhparms</span> <span class="op">&lt;-</span> <span class="fu"><a href="makeLH.html">makeLH</a></span><span class="op">(</span>N0<span class="op">=</span><span class="fl">100</span>,tmax<span class="op">=</span><span class="fl">30</span>,Linf<span class="op">=</span><span class="fl">1349.5</span>,K<span class="op">=</span><span class="fl">0.111</span>,t0<span class="op">=</span><span class="fl">0.065</span>,</span></span>
<span class="r-in"><span>            LWalpha<span class="op">=</span><span class="op">-</span><span class="fl">5.2147</span>,LWbeta<span class="op">=</span><span class="fl">3.153</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">simyears</span> <span class="op">&lt;-</span> <span class="fl">50</span></span></span>
<span class="r-in"><span><span class="va">minLL</span> <span class="op">&lt;-</span> <span class="fl">400</span></span></span>
<span class="r-in"><span><span class="va">rec</span> <span class="op">&lt;-</span> <span class="fu"><a href="genRecruits.html">genRecruits</a></span><span class="op">(</span>method <span class="op">=</span> <span class="st">"fixed"</span>, nR <span class="op">=</span> <span class="fl">100</span>, simyears <span class="op">=</span> <span class="va">simyears</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">cm</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">1</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">0.18</span>,<span class="op">(</span><span class="va">lhparms</span><span class="op">$</span><span class="va">tmax</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>, <span class="va">simyears</span><span class="op">)</span>,nrow<span class="op">=</span><span class="va">simyears</span>,byrow<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">cf</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">1</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">0.33</span>,<span class="op">(</span><span class="va">lhparms</span><span class="op">$</span><span class="va">tmax</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>, <span class="va">simyears</span><span class="op">)</span>,nrow<span class="op">=</span><span class="va">simyears</span>,byrow<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">out</span><span class="op">&lt;-</span><span class="fu">dpmBH_MinLL_fixed</span><span class="op">(</span>simyears <span class="op">=</span> <span class="va">simyears</span>, minLL <span class="op">=</span> <span class="va">minLL</span>, cf <span class="op">=</span> <span class="va">cf</span>,</span></span>
<span class="r-in"><span>                       cm <span class="op">=</span> <span class="va">cm</span>, rec <span class="op">=</span> <span class="va">rec</span>, lhparms <span class="op">=</span> <span class="va">lhparms</span>,</span></span>
<span class="r-in"><span>                       matchRicker<span class="op">=</span><span class="cn">FALSE</span>,species<span class="op">=</span><span class="st">"Striped Bass"</span>,group<span class="op">=</span><span class="st">"landlocked"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#Use summary by year data frame to plot yield vs year</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span>data<span class="op">=</span><span class="va">out</span><span class="op">[[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span>,mapping<span class="op">=</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">year</span>,y<span class="op">=</span><span class="va">Yield_age_1plus</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html" class="external-link">geom_line</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>y<span class="op">=</span><span class="st">"Total yield (g)"</span>,x<span class="op">=</span><span class="st">"Year"</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_bw</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="dpmBH_MinLL_fixed-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#Plot date using summary by age</span></span></span>
<span class="r-in"><span><span class="co">#filter for year class = 1</span></span></span>
<span class="r-in"><span><span class="va">plotdat</span><span class="op">&lt;-</span> <span class="va">out</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">yc</span><span class="op">==</span><span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co">#Plot yield vs age</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span>data<span class="op">=</span><span class="va">plotdat</span>,mapping<span class="op">=</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">age</span>,y<span class="op">=</span><span class="va">yield</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html" class="external-link">geom_line</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>y<span class="op">=</span><span class="st">"Total yield (g)"</span>,x<span class="op">=</span><span class="st">"Age"</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_bw</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="dpmBH_MinLL_fixed-2.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#Recruitment based on a normal distribution</span></span></span>
<span class="r-in"><span><span class="va">rec</span> <span class="op">&lt;-</span> <span class="fu"><a href="genRecruits.html">genRecruits</a></span><span class="op">(</span>method <span class="op">=</span> <span class="st">"normal"</span>, simyears <span class="op">=</span> <span class="va">simyears</span>,</span></span>
<span class="r-in"><span>                   meanR <span class="op">=</span> <span class="fl">1000</span>, sdR <span class="op">=</span> <span class="fl">500</span>, minR <span class="op">=</span> <span class="fl">100</span>, maxR <span class="op">=</span><span class="fl">2500</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">cm</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">1</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">0.18</span>,<span class="op">(</span><span class="va">lhparms</span><span class="op">$</span><span class="va">tmax</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>, <span class="va">simyears</span><span class="op">)</span>,nrow<span class="op">=</span><span class="va">simyears</span>,byrow<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">cf</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">1</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">0.33</span>,<span class="op">(</span><span class="va">lhparms</span><span class="op">$</span><span class="va">tmax</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>, <span class="va">simyears</span><span class="op">)</span>,nrow<span class="op">=</span><span class="va">simyears</span>,byrow<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">out_2</span><span class="op">&lt;-</span><span class="fu">dpmBH_MinLL_fixed</span><span class="op">(</span>simyears <span class="op">=</span> <span class="va">simyears</span>, minLL <span class="op">=</span> <span class="va">minLL</span>, cf <span class="op">=</span> <span class="va">cf</span>,</span></span>
<span class="r-in"><span>                         cm <span class="op">=</span> <span class="va">cm</span>, rec <span class="op">=</span> <span class="va">rec</span>, lhparms <span class="op">=</span> <span class="va">lhparms</span>,</span></span>
<span class="r-in"><span>                         matchRicker<span class="op">=</span><span class="cn">FALSE</span>,species<span class="op">=</span><span class="st">"Striped Bass"</span>,group<span class="op">=</span><span class="st">"landlocked"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#Use summary by year data frame to plot yield vs year</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span>data<span class="op">=</span><span class="va">out_2</span><span class="op">[[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span>,mapping<span class="op">=</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">year</span>,y<span class="op">=</span><span class="va">PSD</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html" class="external-link">geom_line</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>y<span class="op">=</span><span class="st">"PSD"</span>,x<span class="op">=</span><span class="st">"Year"</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_bw</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="dpmBH_MinLL_fixed-3.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#Plot date using summary by age</span></span></span>
<span class="r-in"><span><span class="co">#Plot yield vs age for each year class</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span>data<span class="op">=</span><span class="va">out_2</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span>,mapping<span class="op">=</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">age</span>,y<span class="op">=</span><span class="va">yield</span>,group<span class="op">=</span><span class="va">yc</span>,color<span class="op">=</span><span class="va">yc</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html" class="external-link">geom_line</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>y<span class="op">=</span><span class="st">"Total yield (g)"</span>,x<span class="op">=</span><span class="st">"Age"</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_bw</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="dpmBH_MinLL_fixed-4.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Jason C. Doll, Derek H. Ogle.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

