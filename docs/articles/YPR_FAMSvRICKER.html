<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Comparing FAMS and Ricker YPR Equations • rFAMS</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><script src="YPR_FAMSvRICKER_files/libs/quarto-html/popper.min.js"></script><script src="YPR_FAMSvRICKER_files/libs/quarto-html/tippy.umd.min.js"></script><link href="YPR_FAMSvRICKER_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="YPR_FAMSvRICKER_files/libs/quarto-html/light-border.css" rel="stylesheet">
<!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Comparing FAMS and Ricker YPR Equations">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">rFAMS</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.0.2.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-demonstrations" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Demonstrations</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-demonstrations">
<li><a class="dropdown-item" href="../articles/YPR_fixedMLL.html">Estimate yield based on a single minimum length limit</a></li>
    <li><a class="dropdown-item" href="../articles/YPR_VarMLL.html">Estimate yield based on multiple minimum length limit</a></li>
  </ul>
</li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-explanations" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Explanations</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-explanations">
<li><a class="dropdown-item" href="../articles/YPR_FAMSvRICKER.html">Comparing FAMS and Ricker YPR Equations</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><a class="nav-link" href="../news/index.html" aria-label="See package news"><span class="fa fa-newspaper"></span></a></li>
<li class="nav-item"><a class="nav-link" href="../index.html" aria-label="Goto rFAMS home"><span class="fa fa-home"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/fishR-Core-Team/rFAMS" aria-label="Goto rFAMS github page"><span class="fa fa-github"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-quarto">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Comparing FAMS and Ricker YPR Equations</h1>

      <p class="author">Derek H. Ogle</p>
      <p class="date">2026-01-27</p>

      <small class="dont-index">Source: <a href="https://github.com/fishR-Core-Team/rFAMS/blob/HEAD/vignettes/articles/YPR_FAMSvRICKER.qmd" class="external-link"><code>vignettes/articles/YPR_FAMSvRICKER.qmd</code></a></small>
      <div class="d-none name"><code></code></div>
    </div>






    <section class="section level3"><h3 id="yield-equations">Yield Equations<a class="anchor" aria-label="anchor" href="#yield-equations"></a>
</h3>
<p>The Beverton-Holt yield-per-recruit (YPR) equation according to the FAMS documentation is:</p>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Y</mi><mo>=</mo><mfrac><mrow><mi>F</mi><msub><mi>N</mi><mi>t</mi></msub><msup><mi>e</mi><mrow><mi>Z</mi><mi>r</mi></mrow></msup><msub><mi>W</mi><mi>∞</mi></msub></mrow><mi>K</mi></mfrac><mrow><mo stretchy="true" form="prefix">[</mo><mi>β</mi><mrow><mo stretchy="true" form="prefix">(</mo><mi>X</mi><mo>,</mo><mi>P</mi><mo>,</mo><mi>Q</mi><mo stretchy="true" form="postfix">)</mo></mrow><mo>−</mo><mi>β</mi><mrow><mo stretchy="true" form="prefix">(</mo><mi>X</mi><mn>1</mn><mo>,</mo><mi>P</mi><mo>,</mo><mi>Q</mi><mo stretchy="true" form="postfix">)</mo></mrow><mo stretchy="true" form="postfix">]</mo></mrow></mrow><annotation encoding="application/x-tex"> Y = \frac{FN_{t}e^{Zr}W_{\infty}}{K} [\beta(X,P,Q)-\beta(X1,P,Q)] </annotation></semantics></math></p>
<p>The Beverton-Holt YPR equation according to Ricker is:</p>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Y</mi><mo>=</mo><mfrac><mrow><mi>F</mi><msub><mi>N</mi><mn>0</mn></msub><msup><mi>e</mi><mrow><mi>F</mi><mi>r</mi></mrow></msup><msub><mi>W</mi><mi>∞</mi></msub></mrow><mi>K</mi></mfrac><mrow><mo stretchy="true" form="prefix">[</mo><mi>β</mi><mrow><mo stretchy="true" form="prefix">(</mo><mi>X</mi><mo>,</mo><mi>P</mi><mo>,</mo><mi>Q</mi><mo stretchy="true" form="postfix">)</mo></mrow><mo>−</mo><mi>β</mi><mrow><mo stretchy="true" form="prefix">(</mo><mi>X</mi><mn>1</mn><mo>,</mo><mi>P</mi><mo>,</mo><mi>Q</mi><mo stretchy="true" form="postfix">)</mo></mrow><mo stretchy="true" form="postfix">]</mo></mrow></mrow><annotation encoding="application/x-tex"> Y = \frac{FN_{0}e^{Fr}W_{\infty}}{K} [\beta(X,P,Q)-\beta(X1,P,Q)] </annotation></semantics></math></p>
<p>Note the use <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>N</mi><mi>t</mi></msub><annotation encoding="application/x-tex">N_t</annotation></semantics></math> vs <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>N</mi><mn>0</mn></msub><annotation encoding="application/x-tex">N_0</annotation></semantics></math> and the use of <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>Z</mi><annotation encoding="application/x-tex">Z</annotation></semantics></math> vs <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>F</mi><annotation encoding="application/x-tex">F</annotation></semantics></math> (in the exponent).</p>
<p>Parameters are defined as:</p>
<ul>
<li>
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>F</mi><annotation encoding="application/x-tex">F</annotation></semantics></math> is instantaneous fishing mortality.</li>
<li>
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>M</mi><annotation encoding="application/x-tex">M</annotation></semantics></math> is instantaneous natural mortality (<em>not in above</em>).</li>
<li>
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>Z</mi><annotation encoding="application/x-tex">Z</annotation></semantics></math> is instantaneous natural mortality.</li>
<li>
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>t</mi><mn>0</mn></msub><annotation encoding="application/x-tex">t_0</annotation></semantics></math> is the hypothetical age (i.e., time) when the mean length is zero.</li>
<li>
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>t</mi><mi>r</mi></msub><annotation encoding="application/x-tex">t_r</annotation></semantics></math> is the age (i.e., time) when fish recruit to the fishery (i.e., reach the minimum length in our example).</li>
<li>
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>t</mi><mi>λ</mi></msub><annotation encoding="application/x-tex">t_\lambda</annotation></semantics></math> is the maximum age of fish in the population (<em>not in above</em>).</li>
<li>
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>r</mi><annotation encoding="application/x-tex">r</annotation></semantics></math> is the time it takes to recruit to the fishery (<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>r</mi><mo>=</mo><msub><mi>t</mi><mi>r</mi></msub><mo>−</mo><msub><mi>t</mi><mn>0</mn></msub></mrow><annotation encoding="application/x-tex">r=t_r-t_0</annotation></semantics></math>).</li>
<li>
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>N</mi><mn>0</mn></msub><annotation encoding="application/x-tex">N_0</annotation></semantics></math> is the number of recruits to the <em>population</em> <strong>AT</strong> <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>t</mi><mn>0</mn></msub><annotation encoding="application/x-tex">t_0</annotation></semantics></math>.</li>
<li>
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>N</mi><mi>t</mi></msub><annotation encoding="application/x-tex">N_t</annotation></semantics></math> is the number of recruits to the <em>fishery</em> at <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>t</mi><mi>r</mi></msub><annotation encoding="application/x-tex">t_r</annotation></semantics></math> (=<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>N</mi><mn>0</mn></msub><msup><mi>e</mi><mrow><mi>−</mi><mi>M</mi><msub><mi>t</mi><mi>r</mi></msub></mrow></msup></mrow><annotation encoding="application/x-tex">N_{0}e^{-Mt_{r}}</annotation></semantics></math>).</li>
<li>
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>W</mi><mi>∞</mi></msub><annotation encoding="application/x-tex">W_\infty</annotation></semantics></math> is the average asymptotic weight of a fish.</li>
<li>
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>K</mi><annotation encoding="application/x-tex">K</annotation></semantics></math> is the Brody growth coefficient from the von Bertalanffy growth model.</li>
<li>
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>b</mi><annotation encoding="application/x-tex">b</annotation></semantics></math> is the slope of the <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>l</mi><mi>o</mi><msub><mi>g</mi><mn>10</mn></msub><mrow><mo stretchy="true" form="prefix">(</mo><mi>W</mi><mi>e</mi><mi>i</mi><mi>g</mi><mi>h</mi><mi>t</mi><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">log_{10}(Weight)</annotation></semantics></math>-<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>l</mi><mi>o</mi><msub><mi>g</mi><mn>10</mn></msub><mrow><mo stretchy="true" form="prefix">(</mo><mi>L</mi><mi>e</mi><mi>n</mi><mi>g</mi><mi>t</mi><mi>h</mi><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">log_{10}(Length)</annotation></semantics></math> linear model fit (<em>not in above</em>).</li>
<li>
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>β</mi><mrow><mo stretchy="true" form="prefix">(</mo><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">\beta()</annotation></semantics></math> is the incomplete beta function with parameters <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>X</mi><annotation encoding="application/x-tex">X</annotation></semantics></math>, <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi><mn>1</mn></mrow><annotation encoding="application/x-tex">X1</annotation></semantics></math>, <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>P</mi><annotation encoding="application/x-tex">P</annotation></semantics></math>, and <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>Q</mi><annotation encoding="application/x-tex">Q</annotation></semantics></math> defined as
<ul>
<li><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi><mo>=</mo><msup><mi>e</mi><mrow><mi>−</mi><mi>K</mi><mi>r</mi></mrow></msup></mrow><annotation encoding="application/x-tex">X=e^{-Kr}</annotation></semantics></math></li>
<li><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi><mn>1</mn><mo>=</mo><msup><mi>e</mi><mrow><mi>−</mi><mi>K</mi><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>t</mi><mi>λ</mi></msub><mo>−</mo><msub><mi>t</mi><mn>0</mn></msub><mo stretchy="true" form="postfix">)</mo></mrow></mrow></msup></mrow><annotation encoding="application/x-tex">X1=e^{-K(t_\lambda-t_0)}</annotation></semantics></math></li>
<li><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mo>=</mo><mfrac><mi>Z</mi><mi>K</mi></mfrac></mrow><annotation encoding="application/x-tex">P=\frac{Z}{K}</annotation></semantics></math></li>
<li><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Q</mi><mo>=</mo><mi>b</mi><mo>+</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">Q=b+1</annotation></semantics></math></li>
</ul>
</li>
</ul></section><section class="section level3"><h3 id="fams-vs-ricker-issue">FAMS vs Ricker “Issue”<a class="anchor" aria-label="anchor" href="#fams-vs-ricker-issue"></a>
</h3>
<p>We have not been able to reproduce the results from FAMS with results in R using the Ricker equation. This suggests some issue with coding (in FAMS or by us in R) or that the FAMS and Ricker YPR equations are not equal. We don’t have the ability to examine the code in FAMS and we are confident that we have coded Ricker’s equation correction. Thus, we look more closely at the two yield equations here.</p>
<p>The two yield equations above are equivalent except for the <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>N</mi><mi>t</mi></msub><msup><mi>e</mi><mrow><mi>Z</mi><mi>r</mi></mrow></msup></mrow><annotation encoding="application/x-tex">N_{t}e^{Zr}</annotation></semantics></math> portion (from FAMS) and the <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>N</mi><mn>0</mn></msub><msup><mi>e</mi><mrow><mi>F</mi><mi>r</mi></mrow></msup></mrow><annotation encoding="application/x-tex">N_{0}e^{Fr}</annotation></semantics></math> portion (from Ricker). Thus, as was suggested in the FAMS documentation, is it possible to make substitutions into the Ricker equation to produce the FAMS equation? We try this below.</p>
<ul>
<li>Substitute <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Z</mi><mo>−</mo><mi>M</mi></mrow><annotation encoding="application/x-tex">Z-M</annotation></semantics></math> for <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>F</mi><annotation encoding="application/x-tex">F</annotation></semantics></math> in the Ricker portion, distribute the <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>r</mi><annotation encoding="application/x-tex">r</annotation></semantics></math>, and separate the exponents.</li>
</ul>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>N</mi><mn>0</mn></msub><msup><mi>e</mi><mrow><mrow><mo stretchy="true" form="prefix">(</mo><mi>Z</mi><mo>−</mo><mi>M</mi><mo stretchy="true" form="postfix">)</mo></mrow><mi>r</mi></mrow></msup><mo>=</mo><msub><mi>N</mi><mn>0</mn></msub><msup><mi>e</mi><mrow><mi>Z</mi><mi>r</mi><mo>−</mo><mi>M</mi><mi>r</mi></mrow></msup><mo>=</mo><msub><mi>N</mi><mn>0</mn></msub><msup><mi>e</mi><mrow><mi>Z</mi><mi>r</mi></mrow></msup><msup><mi>e</mi><mrow><mi>−</mi><mi>M</mi><mi>r</mi></mrow></msup></mrow><annotation encoding="application/x-tex"> N_{0}e^{(Z-M)r} = N_{0}e^{Zr-Mr} = N_{0}e^{Zr}e^{-Mr}</annotation></semantics></math></p>
<ul>
<li>Substitute <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>t</mi><mi>r</mi></msub><mo>−</mo><msub><mi>t</mi><mn>0</mn></msub></mrow><annotation encoding="application/x-tex">t_r-t_0</annotation></semantics></math> for <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>r</mi><annotation encoding="application/x-tex">r</annotation></semantics></math> in the <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>M</mi><annotation encoding="application/x-tex">M</annotation></semantics></math> portion, distribute the <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>M</mi><annotation encoding="application/x-tex">M</annotation></semantics></math>, and separate the exponents.</li>
</ul>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>N</mi><mn>0</mn></msub><msup><mi>e</mi><mrow><mi>Z</mi><mi>r</mi></mrow></msup><msup><mi>e</mi><mrow><mi>−</mi><mi>M</mi><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>t</mi><mi>r</mi></msub><mo>−</mo><msub><mi>t</mi><mn>0</mn></msub><mo stretchy="true" form="postfix">)</mo></mrow></mrow></msup><mo>=</mo><msub><mi>N</mi><mn>0</mn></msub><msup><mi>e</mi><mrow><mi>Z</mi><mi>r</mi></mrow></msup><msup><mi>e</mi><mrow><mi>−</mi><mi>M</mi><msub><mi>t</mi><mi>r</mi></msub><mo>+</mo><mi>M</mi><msub><mi>t</mi><mn>0</mn></msub></mrow></msup><mo>=</mo><msub><mi>N</mi><mn>0</mn></msub><msup><mi>e</mi><mrow><mi>Z</mi><mi>r</mi></mrow></msup><msup><mi>e</mi><mrow><mi>−</mi><mi>M</mi><msub><mi>t</mi><mi>r</mi></msub></mrow></msup><msup><mi>e</mi><mrow><mi>M</mi><msub><mi>t</mi><mn>0</mn></msub></mrow></msup></mrow><annotation encoding="application/x-tex"> N_{0}e^{Zr}e^{-M(t_r-t_0)} = N_{0}e^{Zr}e^{-Mt_r+Mt_0} = N_{0}e^{Zr}e^{-Mt_r}e^{Mt_0}</annotation></semantics></math></p>
<ul>
<li>Rearrange the exponentiated parts and substitute <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>N</mi><mi>t</mi></msub><annotation encoding="application/x-tex">N_{t}</annotation></semantics></math> for <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>N</mi><mn>0</mn></msub><msup><mi>e</mi><mrow><mi>−</mi><mi>M</mi><msub><mi>t</mi><mi>r</mi></msub></mrow></msup></mrow><annotation encoding="application/x-tex">N_{0}e^{-Mt_{r}}</annotation></semantics></math>
</li>
</ul>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>N</mi><mn>0</mn></msub><msup><mi>e</mi><mrow><mi>−</mi><mi>M</mi><msub><mi>t</mi><mi>r</mi></msub></mrow></msup><msup><mi>e</mi><mrow><mi>Z</mi><mi>r</mi></mrow></msup><msup><mi>e</mi><mrow><mi>M</mi><msub><mi>t</mi><mn>0</mn></msub></mrow></msup><mo>=</mo><msub><mi>N</mi><mi>t</mi></msub><msup><mi>e</mi><mrow><mi>Z</mi><mi>r</mi></mrow></msup><msup><mi>e</mi><mrow><mi>M</mi><msub><mi>t</mi><mn>0</mn></msub></mrow></msup></mrow><annotation encoding="application/x-tex"> N_{0}e^{-Mt_r}e^{Zr}e^{Mt_0} = N_{t}e^{Zr}e^{Mt_0}</annotation></semantics></math></p>
<p>This last expression is the FAMS equation <strong>EXCEPT</strong> that it includes <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msup><mi>e</mi><mrow><mi>M</mi><msub><mi>t</mi><mn>0</mn></msub></mrow></msup><annotation encoding="application/x-tex">e^{Mt_0}</annotation></semantics></math>. In other words, these portions of the yield equations would be exactly equal if <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>t</mi><mn>0</mn></msub><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">t_{0}=0</annotation></semantics></math> such that <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>e</mi><mrow><mi>M</mi><msub><mi>t</mi><mn>0</mn></msub></mrow></msup><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">e^{Mt_0}=1</annotation></semantics></math>. Otherwise, they are not equal.</p>
<p>Does this explain the difference between FAMS and Ricker?</p>
</section><section class="section level2"><h2 id="exploration">Exploration<a class="anchor" aria-label="anchor" href="#exploration"></a>
</h2>
<p>Below is a quick function to compute the portions of the yield equations worked with above and to compute the percent differences (from the Ricker result) between the two results.</p>
<div class="cell">
<details class="code-fold"><summary>Code</summary><div class="sourceCode cell-code" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">FAMSvRicker1</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">N0</span>,<span class="va">F</span>,<span class="va">M</span>,<span class="va">tr</span>,<span class="va">t0</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">Nt</span> <span class="op">&lt;-</span> <span class="va">N0</span><span class="op">*</span><span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">exp</a></span><span class="op">(</span><span class="op">-</span><span class="va">M</span><span class="op">*</span><span class="va">tr</span><span class="op">)</span></span>
<span>  <span class="va">r</span> <span class="op">&lt;-</span> <span class="va">tr</span><span class="op">-</span><span class="va">t0</span></span>
<span>  <span class="va">Z</span> <span class="op">&lt;-</span> <span class="cn">F</span><span class="op">+</span><span class="va">M</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span><span class="va">t0</span>,</span>
<span>             FAMS<span class="op">=</span><span class="va">Nt</span><span class="op">*</span><span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">exp</a></span><span class="op">(</span><span class="va">Z</span><span class="op">*</span><span class="va">r</span><span class="op">)</span>,</span>
<span>             RCKR<span class="op">=</span><span class="va">N0</span><span class="op">*</span><span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">exp</a></span><span class="op">(</span><span class="cn">F</span><span class="op">*</span><span class="va">r</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>percdiff<span class="op">=</span><span class="fl">100</span><span class="op">*</span><span class="op">(</span><span class="va">FAMS</span><span class="op">-</span><span class="va">RCKR</span><span class="op">)</span><span class="op">/</span><span class="va">RCKR</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
</details>
</div>
<p>Here the function is used to examine the impact of variable <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>t</mi><mn>0</mn></msub><annotation encoding="application/x-tex">t_0</annotation></semantics></math> on the differences between the two yield equation portions, with all other parameters held constant. It can be seen that the two equation portions are equal when <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>t</mi><mn>0</mn></msub><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">t_{0}=0</annotation></semantics></math>, the FAMS portion if greater when <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>t</mi><mn>0</mn></msub><mo>&lt;</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">t_{0}&lt;0</annotation></semantics></math> and the FAMS portion is less when <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>t</mi><mn>0</mn></msub><mo>&gt;</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">t_{0}&gt;0</annotation></semantics></math>. The percent difference can be quite great over the range of reasonable <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>t</mi><mn>0</mn></msub><annotation encoding="application/x-tex">t_0</annotation></semantics></math> values.</p>
<div class="cell">
<details class="code-fold"><summary>Code</summary><div class="sourceCode cell-code" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">tmp</span> <span class="op">&lt;-</span> <span class="fu">FAMSvRicker1</span><span class="op">(</span><span class="fl">100</span>,<span class="fl">0.2</span>,<span class="fl">0.3</span>,<span class="fl">1</span>,<span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="op">-</span><span class="fl">2</span>,<span class="fl">2</span>,length.out<span class="op">=</span><span class="fl">100</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span>data<span class="op">=</span><span class="va">tmp</span>,mapping<span class="op">=</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>y<span class="op">=</span><span class="va">percdiff</span>,x<span class="op">=</span><span class="va">t0</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_abline.html" class="external-link">geom_hline</a></span><span class="op">(</span>yintercept<span class="op">=</span><span class="fl">0</span>,color<span class="op">=</span><span class="st">"red"</span>,linetype<span class="op">=</span><span class="st">"dashed"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_abline.html" class="external-link">geom_vline</a></span><span class="op">(</span>xintercept<span class="op">=</span><span class="fl">0</span>,color<span class="op">=</span><span class="st">"red"</span>,linetype<span class="op">=</span><span class="st">"dashed"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>x<span class="op">=</span><span class="st">"t_0"</span>,y<span class="op">=</span><span class="st">"Percent Difference"</span>,title<span class="op">=</span><span class="st">"Yield Portion: FAMS vs Ricker"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_bw</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
</details><div class="cell-output-display">
<div>
<figure><p><img src="YPR_FAMSvRICKER_files/figure-html/comp-res-1-1.png" width="288"></p>
</figure>
</div>
</div>
</div>
<p>What is the impact of this difference in the actual yield equations. Again, a function to compute the two yield equations and find the absolute and percent differences is made. Note, however, that I included a “corrected” version of the FAMS equation that included the <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msup><mi>e</mi><mrow><mi>M</mi><msub><mi>t</mi><mn>0</mn></msub></mrow></msup><annotation encoding="application/x-tex">e^{Mt_0}</annotation></semantics></math> term.</p>
<div class="cell">
<details class="code-fold"><summary>Code</summary><div class="sourceCode cell-code" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">FAMSvRicker</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">N0</span>,<span class="va">F</span>,<span class="va">M</span>,<span class="va">tr</span>,<span class="va">t0</span>,<span class="va">tlambda</span>,<span class="va">Linf</span>,<span class="va">K</span>,<span class="va">a</span>,<span class="va">b</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">Nt</span> <span class="op">&lt;-</span> <span class="va">N0</span><span class="op">*</span><span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">exp</a></span><span class="op">(</span><span class="op">-</span><span class="va">M</span><span class="op">*</span><span class="va">tr</span><span class="op">)</span></span>
<span>  <span class="va">r</span> <span class="op">&lt;-</span> <span class="va">tr</span><span class="op">-</span><span class="va">t0</span></span>
<span>  <span class="va">Z</span> <span class="op">&lt;-</span> <span class="cn">F</span><span class="op">+</span><span class="va">M</span></span>
<span>  <span class="va">Winf</span> <span class="op">&lt;-</span> <span class="fl">10</span><span class="op">^</span><span class="op">(</span><span class="va">a</span><span class="op">+</span><span class="va">b</span><span class="op">*</span><span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log10</a></span><span class="op">(</span><span class="va">Linf</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="va">P</span> <span class="op">&lt;-</span> <span class="va">Z</span><span class="op">/</span><span class="va">K</span></span>
<span>  <span class="va">Q</span> <span class="op">&lt;-</span> <span class="va">b</span><span class="op">+</span><span class="fl">1</span></span>
<span>  <span class="va">X</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">exp</a></span><span class="op">(</span><span class="op">-</span><span class="va">K</span><span class="op">*</span><span class="va">r</span><span class="op">)</span></span>
<span>  <span class="va">X1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">exp</a></span><span class="op">(</span><span class="op">-</span><span class="va">K</span><span class="op">*</span><span class="op">(</span><span class="va">tlambda</span><span class="op">-</span><span class="va">t0</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="va">betas</span> <span class="op">&lt;-</span> <span class="fu">rFAMS</span><span class="fu">:::</span><span class="fu"><a href="../reference/rFAMS-internals.html">iIbeta</a></span><span class="op">(</span><span class="va">X</span>,<span class="va">P</span>,<span class="va">Q</span><span class="op">)</span><span class="op">-</span><span class="fu">rFAMS</span><span class="fu">:::</span><span class="fu"><a href="../reference/rFAMS-internals.html">iIbeta</a></span><span class="op">(</span><span class="va">X1</span>,<span class="va">P</span>,<span class="va">Q</span><span class="op">)</span></span>
<span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span><span class="va">t0</span>,</span>
<span>             FAMS<span class="op">=</span><span class="op">(</span><span class="op">(</span><span class="cn">F</span><span class="op">*</span><span class="va">Nt</span><span class="op">*</span><span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">exp</a></span><span class="op">(</span><span class="va">Z</span><span class="op">*</span><span class="va">r</span><span class="op">)</span><span class="op">*</span><span class="va">Winf</span><span class="op">)</span><span class="op">/</span><span class="va">K</span><span class="op">)</span><span class="op">*</span><span class="va">betas</span>,</span>
<span>             cFAMS<span class="op">=</span><span class="op">(</span><span class="op">(</span><span class="cn">F</span><span class="op">*</span><span class="va">Nt</span><span class="op">*</span><span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">exp</a></span><span class="op">(</span><span class="va">Z</span><span class="op">*</span><span class="va">r</span><span class="op">)</span><span class="op">*</span><span class="va">Winf</span><span class="op">)</span><span class="op">/</span><span class="va">K</span><span class="op">)</span><span class="op">*</span><span class="va">betas</span><span class="op">*</span><span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">exp</a></span><span class="op">(</span><span class="va">M</span><span class="op">*</span><span class="va">t0</span><span class="op">)</span>,</span>
<span>             RCKR<span class="op">=</span><span class="op">(</span><span class="op">(</span><span class="cn">F</span><span class="op">*</span><span class="va">N0</span><span class="op">*</span><span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">exp</a></span><span class="op">(</span><span class="cn">F</span><span class="op">*</span><span class="va">r</span><span class="op">)</span><span class="op">*</span><span class="va">Winf</span><span class="op">)</span><span class="op">/</span><span class="va">K</span><span class="op">)</span><span class="op">*</span><span class="va">betas</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>percdiff<span class="op">=</span><span class="fl">100</span><span class="op">*</span><span class="op">(</span><span class="va">FAMS</span><span class="op">-</span><span class="va">RCKR</span><span class="op">)</span><span class="op">/</span><span class="va">RCKR</span>,</span>
<span>                  cpercdiff<span class="op">=</span><span class="fl">100</span><span class="op">*</span><span class="op">(</span><span class="va">cFAMS</span><span class="op">-</span><span class="va">RCKR</span><span class="op">)</span><span class="op">/</span><span class="va">RCKR</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
</details>
</div>
<p>Here it is seen that the estimated yield results can differ greatly between the two equations.</p>
<div class="cell">
<details class="code-fold"><summary>Code</summary><div class="sourceCode cell-code" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">tmp</span> <span class="op">&lt;-</span> <span class="fu">FAMSvRicker</span><span class="op">(</span>N0<span class="op">=</span><span class="fl">100</span>,F<span class="op">=</span><span class="fl">0.2</span>,M<span class="op">=</span><span class="fl">0.3</span>,tr<span class="op">=</span><span class="fl">1</span>,t0<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="op">-</span><span class="fl">2</span>,<span class="fl">1</span>,length.out<span class="op">=</span><span class="fl">100</span><span class="op">)</span>,</span>
<span>                   tlambda<span class="op">=</span><span class="fl">10</span>,Linf<span class="op">=</span><span class="fl">500</span>,K<span class="op">=</span><span class="fl">3.1</span>,a<span class="op">=</span><span class="op">-</span><span class="fl">5.6</span>,b<span class="op">=</span><span class="fl">3.1</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span>data<span class="op">=</span><span class="va">tmp</span>,mapping<span class="op">=</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>y<span class="op">=</span><span class="va">percdiff</span>,x<span class="op">=</span><span class="va">t0</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_abline.html" class="external-link">geom_hline</a></span><span class="op">(</span>yintercept<span class="op">=</span><span class="fl">0</span>,color<span class="op">=</span><span class="st">"red"</span>,linetype<span class="op">=</span><span class="st">"dashed"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_abline.html" class="external-link">geom_vline</a></span><span class="op">(</span>xintercept<span class="op">=</span><span class="fl">0</span>,color<span class="op">=</span><span class="st">"red"</span>,linetype<span class="op">=</span><span class="st">"dashed"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>x<span class="op">=</span><span class="st">"t_0"</span>,y<span class="op">=</span><span class="st">"Percent Difference"</span>,title<span class="op">=</span><span class="st">"Yield: FAMS vs Ricker"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_bw</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
</details><div class="cell-output-display">
<div>
<figure><p><img src="YPR_FAMSvRICKER_files/figure-html/comp-res-2-1.png" width="288"></p>
</figure>
</div>
</div>
</div>
<p>However, the differences disappear (within machine rounding error) when the “corrected” FAMS equation is used.</p>
<div class="cell">
<details class="code-fold"><summary>Code</summary><div class="sourceCode cell-code" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span>data<span class="op">=</span><span class="va">tmp</span>,mapping<span class="op">=</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>y<span class="op">=</span><span class="va">cpercdiff</span>,x<span class="op">=</span><span class="va">t0</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_abline.html" class="external-link">geom_hline</a></span><span class="op">(</span>yintercept<span class="op">=</span><span class="fl">0</span>,color<span class="op">=</span><span class="st">"red"</span>,linetype<span class="op">=</span><span class="st">"dashed"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_abline.html" class="external-link">geom_vline</a></span><span class="op">(</span>xintercept<span class="op">=</span><span class="fl">0</span>,color<span class="op">=</span><span class="st">"red"</span>,linetype<span class="op">=</span><span class="st">"dashed"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>x<span class="op">=</span><span class="st">"t_0"</span>,y<span class="op">=</span><span class="st">"Percent Difference"</span>,title<span class="op">=</span><span class="st">"Yield: 'Corrected' FAMS vs Ricker"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_bw</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
</details><div class="cell-output-display">
<div>
<figure><p><img src="YPR_FAMSvRICKER_files/figure-html/comp-res-3-1.png" width="288"></p>
</figure>
</div>
</div>
</div>
<section class="level2"><h3 id="conclusion">Conclusion<a class="anchor" aria-label="anchor" href="#conclusion"></a>
</h3>
<p>The YPR equations in Ricker and FAMS are only strictly equal when <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>t</mi><mn>0</mn></msub><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">t_0=0</annotation></semantics></math>. Again, we can’t know what the authors of FAMS did, but perhaps they dropped this term as <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>t</mi><mn>0</mn></msub><annotation encoding="application/x-tex">t_0</annotation></semantics></math> is often near 0 which means that <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msup><mi>e</mi><mrow><mi>M</mi><msub><mi>t</mi><mn>0</mn></msub></mrow></msup><annotation encoding="application/x-tex">e^{Mt_0}</annotation></semantics></math> would be near 1. However, as shown here, dropping that term can result in substantively different estimates of yield. Within a set of simulations this may not be a big deal because comparisons of yield are mostly made across other parameters that vary while <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>t</mi><mn>0</mn></msub><annotation encoding="application/x-tex">t_0</annotation></semantics></math> is held constant.</p>
<p>However, it is not difficult to include the <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msup><mi>e</mi><mrow><mi>M</mi><msub><mi>t</mi><mn>0</mn></msub></mrow></msup><annotation encoding="application/x-tex">e^{Mt_0}</annotation></semantics></math> term in the coding so why not include it to be as accurate with Ricker as possible?</p>
<p>In addition, it likely makes sense to include this term as Ricker defines <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>N</mi><mn>0</mn></msub><annotation encoding="application/x-tex">N_0</annotation></semantics></math> as the “hypothetical number of individuals that reach the hypothetical age <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>t</mi><mn>0</mn></msub><annotation encoding="application/x-tex">t_0</annotation></semantics></math> annually” rather than the initial number of recruits at age 0. It seems reasonable that there would be a term to “handle” natural mortality for the time between <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>t</mi><mn>0</mn></msub><annotation encoding="application/x-tex">t_0</annotation></semantics></math> and 0.</p>
</section></section><script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'light-border',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config);
    }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script></main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Jason C. Doll, Derek H. Ogle.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
