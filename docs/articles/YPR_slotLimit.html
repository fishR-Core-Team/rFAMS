<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Estimate yield based on a slot limit • rFAMS</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><script src="YPR_slotLimit_files/libs/quarto-html/popper.min.js"></script><script src="YPR_slotLimit_files/libs/quarto-html/tippy.umd.min.js"></script><link href="YPR_slotLimit_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="YPR_slotLimit_files/libs/quarto-html/light-border.css" rel="stylesheet">
<!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Estimate yield based on a slot limit">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">rFAMS</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.0.2</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-demonstrations" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Demonstrations</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-demonstrations">
<li><a class="dropdown-item" href="../articles/MakeLH.html">Create life history object</a></li>
    <li><a class="dropdown-item" href="../articles/YPR_fixedMLL.html">Estimate yield based on a single minimum length limit</a></li>
    <li><a class="dropdown-item" href="../articles/YPR_VarMLL.html">Estimate yield based on multiple minimum length limit</a></li>
    <li><a class="dropdown-item" href="../articles/YPR_slotLimit.html">Estimate yield based on a slot length limit</a></li>
    <li><a class="dropdown-item" href="../articles/dpmBH.html">Simulate a population using the dynamic pool model</a></li>
    <li><a class="dropdown-item" href="../articles/ggplot_for_rFAMS.html">ggplot2 for rFAMS</a></li>
  </ul>
</li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-explanations" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Explanations</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-explanations">
<li><a class="dropdown-item" href="../articles/YPR_FAMSvRICKER.html">Comparing FAMS and Ricker YPR Equations</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><a class="nav-link" href="../news/index.html" aria-label="See package news"><span class="fa fa-newspaper"></span></a></li>
<li class="nav-item"><a class="nav-link" href="../index.html" aria-label="Goto rFAMS home"><span class="fa fa-home"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/fishR-Core-Team/rFAMS" aria-label="Goto rFAMS github page"><span class="fa fa-github"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-quarto">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Estimate yield based on a slot limit</h1>

      <p class="author">Jason Doll</p>
      <p class="date">2026-02-07</p>

      <small class="dont-index">Source: <a href="https://github.com/fishR-Core-Team/rFAMS/blob/HEAD/vignettes/articles/YPR_slotLimit.qmd" class="external-link"><code>vignettes/articles/YPR_slotLimit.qmd</code></a></small>
      <div class="d-none name"><code></code></div>
    </div>






    <div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/fishR-Core-Team/rFAMS/" class="external-link">rFAMS</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span>  <span class="co">## to make figures</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyr.tidyverse.org" class="external-link">tidyr</a></span><span class="op">)</span>    <span class="co">## for pivot_longer</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span>    <span class="co">## for filter</span></span></code></pre></div>
</div>
<p>The objective of this article is to demonstrate how to use rFAMS to calculate yield based on a slot length limit with multiple values of conditional fishing and conditional natural mortality. Separate conditional fishing mortality for fish under slot, within slot, and above slot must be specified. This allows the user to investigate a protective slot where fish are protected from harvest within a length range and an inverted slot where small fish under the slot and large fish over the slot limit are protected while harvesting is allowed within the slot limit.</p>
<section class="section level2"><h2 id="build-a-life-history-parameter-list">Build a life history parameter list<a class="anchor" aria-label="anchor" href="#build-a-life-history-parameter-list"></a>
</h2>
<p>The first step for using any of the rFAMS simulation models is to create an object with life history parameters using the <code><a href="../reference/makeLH.html">makeLH()</a></code> function. The <code><a href="../reference/makeLH.html">makeLH()</a></code> function creates a list of the life history parameters needed. Including, the initial number of recruits, maximum age of fish in your population, von Bertalanffy growth model parameters (<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>L</mi><mi>∞</mi></msub><annotation encoding="application/x-tex">L_\infty</annotation></semantics></math>, <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>K</mi><annotation encoding="application/x-tex">K</annotation></semantics></math>, and <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>t</mi><mn>0</mn></msub><annotation encoding="application/x-tex">t_0</annotation></semantics></math>), and parameters from the log10-transformed weight length model (alpha and beta). By default, the <code><a href="../reference/makeLH.html">makeLH()</a></code> returns a list. Growth length-weight model paramaters can be generated from functions in the <a href="https://fishr-core-team.github.io/FSA/index.html" class="external-link">FSA package</a>. The example below uses the following life history parameters:</p>
<ul>
<li>NO is the initial number of recruits, set to 100.</li>
<li>tmax is the maximum age in the population in years, set to 15.</li>
<li>Linf is the point estimate of asymptotic mean length from the von Bertalanffy growth model, set to 592mm.</li>
<li>K (upper case) is the point estimate of the Brody growth coefficient from the von Bertalanffy growth model, set to 0.20.</li>
<li>t0 is the point estimate of the x-intercept (i.e., theoretical age at a mean length of 0) from the von Bertalanffy growth model, set to -0.3.</li>
<li>LWalpha is the point estimate of alpha from the length-weight regression on the log10 scale, set to -5.528.</li>
<li>LWbeta is the point estimate of beta from the length-weight regression on the log10 scale, set to 3.273.</li>
</ul>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># create life history parameter object</span></span>
<span><span class="va">LH</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/makeLH.html">makeLH</a></span><span class="op">(</span>N0<span class="op">=</span><span class="fl">100</span>,tmax<span class="op">=</span><span class="fl">15</span>,Linf<span class="op">=</span><span class="fl">592</span>,K<span class="op">=</span><span class="fl">0.20</span>,t0<span class="op">=</span><span class="op">-</span><span class="fl">0.3</span>,LWalpha<span class="op">=</span><span class="op">-</span><span class="fl">5.528</span>,LWbeta<span class="op">=</span><span class="fl">3.273</span><span class="op">)</span></span></code></pre></div>
</div>
</section><section class="section level2"><h2 id="estimate-yield-for-one-minimum-length-limit-and-variable-conditional-fishing-and-conditional-natural-mortality-">Estimate yield for one minimum length limit and variable conditional fishing and conditional natural mortality.<a class="anchor" aria-label="anchor" href="#estimate-yield-for-one-minimum-length-limit-and-variable-conditional-fishing-and-conditional-natural-mortality-"></a>
</h2>
<p>The function <code><a href="../reference/yprBH_SlotLL.R.html">yprBH_SlotLL()</a></code> function is used when yield is estimated with a slot limit and conditional fishing mortality is specified below, within, and above the slot. This function requires a recruitment length <code>recruitmentTL</code> (i.e., the length where fish are susceptible to harvest, this is NOT the lower slot limit); lower slot limit <code>lowerSL</code>; upper slot limit <code>upperSL</code>; conditional fishing mortality under the slot limit but above recruitment length <code>cfunder</code>; conditional fishing mortality within the slot limit <code>cfin</code>; conditional fishing mortality above the slot limit <code>cfabove</code>; specified range of conditional natural mortality by setting the minimum <code>cmmin</code>, maximum <code>cmmax</code>, and increment <code>cminc</code>; set any length of interest to monitor <code>loi</code>; and the life history parameters <code>lhparams</code>.</p>
<p>rFAMS includes a function <code><a href="../reference/est_natmort.html">est_natmort()</a></code> to estimate instantaneous natural mortality (M) and conditional natural mortality (cm) using parameters specified in the life history parameter object. See the <a href="https://fishr-core-team.github.io/FSA/index.html" class="external-link">FSA package</a> for other methods of calculating M and cm. To generate the range and average M and cm using rFAMS:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/est_natmort.html">est_natmort</a></span><span class="op">(</span><span class="va">LH</span>, incl.avg <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co">#&gt;            method         M         cm                  givens</span></span>
<span><span class="co">#&gt; 1       HoenigNLS 0.4100226 0.33636478                 tmax=15</span></span>
<span><span class="co">#&gt; 2         HoenigO 0.2954353 0.25579246                 tmax=15</span></span>
<span><span class="co">#&gt; 3        HoenigO2 0.2963197 0.25645032                 tmax=15</span></span>
<span><span class="co">#&gt; 4        HoenigLM 0.3612696 0.30320890                 tmax=15</span></span>
<span><span class="co">#&gt; 5    HewittHoenig 0.2813333 0.24522330                 tmax=15</span></span>
<span><span class="co">#&gt; 6           tmax1 0.3406000 0.28865661                 tmax=15</span></span>
<span><span class="co">#&gt; 7       PaulyLNoT 0.3308050 0.28165477        K=0.2, Linf=59.2</span></span>
<span><span class="co">#&gt; 8              K1 0.3384000 0.28708993                   K=0.2</span></span>
<span><span class="co">#&gt; 9              K2 0.4080000 0.33502112                   K=0.2</span></span>
<span><span class="co">#&gt; 10      HamelCope 0.3600000 0.30232367                 tmax=15</span></span>
<span><span class="co">#&gt; 11       JensenK1 0.3000000 0.25918178                   K=0.2</span></span>
<span><span class="co">#&gt; 12       JensenK2 0.5040000 0.39589062                   K=0.2</span></span>
<span><span class="co">#&gt; 13 AlversonCarney 0.2821182 0.24581544          tmax=15, K=0.2</span></span>
<span><span class="co">#&gt; 14   ChenWatanabe 0.1018740 0.09685666 tmax=15, K=0.2, t0=-0.3</span></span>
<span><span class="co">#&gt; 15        AVERAGE 0.3292984 0.27782360</span></span></code></pre></div>
</div>
<p>Once you have decided the range of cf and cm and decided what minimum length limit to consider, you can now proceed to estimating yield. The following example uses the life history object created above with a minimum length limit of 200mm, cf from 0.1 to 0.9 with increments of 0.1, cm from 0.1 to 0.9 with increments of 0.1, monitors lengths of 200, 250, 300, and 350mm.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">Res_1</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/yprBH_SlotLL.R.html">yprBH_SlotLL</a></span><span class="op">(</span>recruitmentTL<span class="op">=</span><span class="fl">200</span>,lowerSL<span class="op">=</span><span class="fl">250</span>,upperSL<span class="op">=</span><span class="fl">325</span>, <span class="co">#Set recruitment and slot limit length</span></span>
<span>                      cfunder<span class="op">=</span><span class="fl">0.25</span>,cfin<span class="op">=</span><span class="fl">0.6</span>,cfabove<span class="op">=</span><span class="fl">0.15</span>,        <span class="co">#Set cf under, in, and above slot limit</span></span>
<span>                      cmmin<span class="op">=</span><span class="fl">0.1</span>,cmmax<span class="op">=</span><span class="fl">0.9</span>,cminc<span class="op">=</span><span class="fl">0.1</span>,             <span class="co">#creates vector of cm values</span></span>
<span>                      loi<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">200</span>,<span class="fl">250</span>,<span class="fl">300</span>,<span class="fl">350</span>,<span class="fl">450</span>,<span class="fl">550</span><span class="op">)</span>,         <span class="co">#sets lengths of interest to monitor</span></span>
<span>                      lhparms<span class="op">=</span><span class="va">LH</span><span class="op">)</span>                     <span class="co">#Specifies life history parameters</span></span></code></pre></div>
</div>
<p>The output object will be a data.frame with the following calculated values:</p>
<ul>
<li>cm A numeric representing conditional natural mortality</li>
<li>yieldTotal is the calculated total yield</li>
<li>nharvTotal is the calculated total number of harvested fish</li>
<li>ndieTotal is the calculated total number of fish that die of natural death</li>
<li>yieldUnder is the calculated yield under the slot limit</li>
<li>yieldIn is the calculated yied within the slot limit</li>
<li>yieldAbove is the calculated yield above the slot limit</li>
<li>exploitationUnder is the exploitation rate under the slot limit</li>
<li>exploitationIn is the exploitation rate within the slot limit</li>
<li>exploitationAbove is the exploitation rate above the slot limit</li>
<li>nharvestUnder is the number of harvested fish under the slot limit</li>
<li>nharvestIn is the number of harvested fish within the slot limit</li>
<li>nharvestAbove is the number of harvested fish above the slot limit</li>
<li>n0die is the number of fish that die of natural death before entering the fishery at a minimum length</li>
<li>ndieUnder is the number of fish that die of natural death under the slot limit</li>
<li>ndieIn is the number of fish that die of natural deaths within the slot limit</li>
<li>ndieAbove is the number of fish that die of natural deaths above the slot limit</li>
<li>avglenUnder is the average length of fish harvested under the slot limit</li>
<li>avglenIn is the average length of fish harvested within the slot limit</li>
<li>avglenAbove is the average length of fish harvested above the slot limit</li>
<li>avgwtUnder is the average weight of fish harvested under the slot limit</li>
<li>avgwtIn is the average weight of fish harvested within the slot limit</li>
<li>avgwtAbove is the average weight of fish harvested above the slot limit</li>
<li>trUnder is the time for a fish to recruit to a minimum length limit (i.e., time to enter fishery)</li>
<li>trIn is the time for a fish to recruit to a lower length limit of the slot limit</li>
<li>trOver is the time for a fish to recruit to a upper length limit of the slot limit</li>
<li>nrUnder is the number of fish at time trUnder (time they become harvestable size under the slot limit)</li>
<li>nrIn is the number of fish at time trIn (time they reach the lower slot limit size)</li>
<li>nrAbove is the number of fish at time trAbove (time they reach the upper slot limit size)</li>
<li>FUnder is the estimated instantaneous rate of fishing mortality under the slot limit</li>
<li>FIn is the estimated instantaneous rate of fishing mortality within the slot limit</li>
<li>FAbove is the estimated instantaneous rate of fishing mortality above the slot limit</li>
<li>MUnder is the estimated instantaneous rate of natural mortality under the slot limit</li>
<li>MIn is the estimated instantaneous rate of natural mortality within the slot limit</li>
<li>MAbove is the estimated instantaneous rate of natural mortality above the slot limit</li>
<li>ZUnder is the estimated instantaneous rate of total mortality under the slot limit</li>
<li>ZIn is the estimated instantaneous rate of total mortality within the slot limit</li>
<li>ZAbove is the estimated instantaneous rate of total mortality above the slot limit</li>
<li>SUnder is the estimated total survival under the slot limit</li>
<li>SIn is the estimated total survival within the slot limit</li>
<li>SAbove is the estimated total survival above the slot limit</li>
<li>cfUnder A numeric representing conditional fishing mortality</li>
<li>cfIn A numeric representing conditional fishing mortality</li>
<li>cfOver A numeric representing conditional fishing mortality</li>
<li>recruitmentTL A numeric representing the minimum length limit for recruiting to the fishery in mm.</li>
<li>lowerSL A numeric representing the length of the lower slot limit in mm.</li>
<li>upperSL A numeric representing the length of the upper slot limit in mm.</li>
<li>nAtxxx is the number that reach the length of interest supplied. There will be one column for each length of interest.</li>
</ul>
<p>For convenience the data.frame also contains the model input values (cf derived from cfUnder, cfIn, and cfOver; recruitmentTL; lowerSL; upperSL; cm derived from cmmin, cmmax, and cminc; N0; Linf; K; t0; LWalpha; LWbeta; and tmax).</p>
<p>View the first few rows of the output</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">Res_1</span><span class="op">)</span></span>
<span><span class="co">#&gt;   yieldTotal yieldUnder   yieldIn yieldAbove nharvTotal ndieTotal nharvestUnder</span></span>
<span><span class="co">#&gt; 1  29156.293  2134.0226 12847.795 14174.4754  65.545400  16.65337     14.300192</span></span>
<span><span class="co">#&gt; 2  16399.451  1661.3174  9009.265  5728.8686  44.983766  22.37093     11.186560</span></span>
<span><span class="co">#&gt; 3   9587.852  1251.5389  6037.309  2299.0040  30.319080  23.01694      8.473698</span></span>
<span><span class="co">#&gt; 4   5611.796   903.2554  3813.586   894.9547  19.682869  20.98520      6.154504</span></span>
<span><span class="co">#&gt; 5   3163.191   614.9004  2223.163   325.1268  12.040623  17.45903      4.221259</span></span>
<span><span class="co">#&gt; 6   1643.192   384.7347  1154.658   103.7991   6.727817  13.18526      2.665456</span></span>
<span><span class="co">#&gt;   nharvestIn nharvestAbove    n0die ndieUnder   ndieIn ndieAbove  nrUnder</span></span>
<span><span class="co">#&gt; 1  40.888026    10.3571826 16.93639  5.237294 4.701546 6.7145292 83.06361</span></span>
<span><span class="co">#&gt; 2  28.960251     4.8369557 32.49751  8.676970 7.052667 6.6412908 67.50249</span></span>
<span><span class="co">#&gt; 3  19.625646     2.2197362 46.64404 10.505888 7.639471 4.8715819 53.35596</span></span>
<span><span class="co">#&gt; 4  12.555729     0.9726349 59.32995 10.928309 6.999731 3.0571627 40.67005</span></span>
<span><span class="co">#&gt; 5   7.428002     0.3913628 70.50022 10.170789 5.619066 1.6691717 29.49978</span></span>
<span><span class="co">#&gt; 6   3.925836     0.1365243 80.08692  8.489694 3.925836 0.7697317 19.91308</span></span>
<span><span class="co">#&gt;        nrIn    nrAbove  trUnder     trIn  trOver avglenUnder avglenIn</span></span>
<span><span class="co">#&gt; 1 63.526126 17.9365533 1.761224 2.443479 3.68129    225.5013 283.1066</span></span>
<span><span class="co">#&gt; 2 47.638955 11.6260378 1.761224 2.443479 3.68129    225.1683 282.2425</span></span>
<span><span class="co">#&gt; 3 34.376376  7.1112601 1.761224 2.443479 3.68129    224.7908 281.2776</span></span>
<span><span class="co">#&gt; 4 23.587233  4.0317725 1.761224 2.443479 3.68129    224.3558 280.1859</span></span>
<span><span class="co">#&gt; 5 15.107731  2.0606627 1.761224 2.443479 3.68129    223.8426 278.9287</span></span>
<span><span class="co">#&gt; 6  8.757933  0.9062605 1.761224 2.443479 3.68129    223.2179 277.4456</span></span>
<span><span class="co">#&gt;   avglenAbove avgwtUnder  avgwtIn avgwtAbove   nAt200    nAt250    nAt300</span></span>
<span><span class="co">#&gt; 1    443.8067   149.2303 314.2190  1368.5648 83.06361 63.526126 28.333814</span></span>
<span><span class="co">#&gt; 2    424.6353   148.5101 311.0907  1184.3955 67.50249 47.638955 19.359309</span></span>
<span><span class="co">#&gt; 3    407.5833   147.6969 307.6235  1035.7105 53.35596 34.376376 12.570645</span></span>
<span><span class="co">#&gt; 4    393.1118   146.7633 303.7327   920.1343 40.67005 23.587233  7.636027</span></span>
<span><span class="co">#&gt; 5    381.0284   145.6675 299.2950   830.7556 29.49978 15.107731  4.234615</span></span>
<span><span class="co">#&gt; 6    370.8494   144.3410 294.1178   760.2978 19.91308  8.757933  2.057926</span></span>
<span><span class="co">#&gt;       nAt350    nAt450       nAt550  cm  expUnder     expIn   expAbove</span></span>
<span><span class="co">#&gt; 1 15.7236087 7.6991996 1.506094e+00 0.1 0.2378792 0.5739983 0.14257140</span></span>
<span><span class="co">#&gt; 2  9.6183528 3.4406800 3.284670e-01 0.2 0.2252683 0.5468307 0.13484863</span></span>
<span><span class="co">#&gt; 3  5.5094637 1.3806140 5.843904e-02 0.3 0.2120703 0.5182617 0.12677377</span></span>
<span><span class="co">#&gt; 4  2.8956814 0.4811312 7.964081e-03 0.4 0.1981511 0.4879637 0.11826676</span></span>
<span><span class="co">#&gt; 5  1.3531307 0.1382899 7.540266e-04 0.5 0.1833156 0.4554588 0.10921127</span></span>
<span><span class="co">#&gt; 6  0.5332727 0.0300664 4.211329e-05 0.6 0.1672608 0.4200000 0.09942671</span></span>
<span><span class="co">#&gt;      FUnder       FIn    FAbove    MUnder       MIn    MAbove    ZUnder</span></span>
<span><span class="co">#&gt; 1 0.2876821 0.9162907 0.1625189 0.1053605 0.1053605 0.1053605 0.3930426</span></span>
<span><span class="co">#&gt; 2 0.2876821 0.9162907 0.1625189 0.2231436 0.2231436 0.2231436 0.5108256</span></span>
<span><span class="co">#&gt; 3 0.2876821 0.9162907 0.1625189 0.3566749 0.3566749 0.3566749 0.6443570</span></span>
<span><span class="co">#&gt; 4 0.2876821 0.9162907 0.1625189 0.5108256 0.5108256 0.5108256 0.7985077</span></span>
<span><span class="co">#&gt; 5 0.2876821 0.9162907 0.1625189 0.6931472 0.6931472 0.6931472 0.9808293</span></span>
<span><span class="co">#&gt; 6 0.2876821 0.9162907 0.1625189 0.9162907 0.9162907 0.9162907 1.2039728</span></span>
<span><span class="co">#&gt;        ZIn    ZAbove SUnder  SIn SAbove cfUnder cfIn cfOver recruitmentTL</span></span>
<span><span class="co">#&gt; 1 1.021651 0.2678794  0.675 0.36  0.765    0.25  0.6   0.15           200</span></span>
<span><span class="co">#&gt; 2 1.139434 0.3856625  0.600 0.32  0.680    0.25  0.6   0.15           200</span></span>
<span><span class="co">#&gt; 3 1.272966 0.5191939  0.525 0.28  0.595    0.25  0.6   0.15           200</span></span>
<span><span class="co">#&gt; 4 1.427116 0.6733446  0.450 0.24  0.510    0.25  0.6   0.15           200</span></span>
<span><span class="co">#&gt; 5 1.609438 0.8556661  0.375 0.20  0.425    0.25  0.6   0.15           200</span></span>
<span><span class="co">#&gt; 6 1.832581 1.0788097  0.300 0.16  0.340    0.25  0.6   0.15           200</span></span>
<span><span class="co">#&gt;   lowerSL upperSL  N0 Linf   K   t0 LWalpha LWbeta tmax</span></span>
<span><span class="co">#&gt; 1     250     325 100  592 0.2 -0.3  -5.528  3.273   15</span></span>
<span><span class="co">#&gt; 2     250     325 100  592 0.2 -0.3  -5.528  3.273   15</span></span>
<span><span class="co">#&gt; 3     250     325 100  592 0.2 -0.3  -5.528  3.273   15</span></span>
<span><span class="co">#&gt; 4     250     325 100  592 0.2 -0.3  -5.528  3.273   15</span></span>
<span><span class="co">#&gt; 5     250     325 100  592 0.2 -0.3  -5.528  3.273   15</span></span>
<span><span class="co">#&gt; 6     250     325 100  592 0.2 -0.3  -5.528  3.273   15</span></span></code></pre></div>
</div>
</section><section class="section level2"><h2 id="plot-results">Plot results<a class="anchor" aria-label="anchor" href="#plot-results"></a>
</h2>
<p>We will now create a series of figures to aid in interpreting the output. First, a custom theme is created to use across all plots.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Custom theme for plots (to make look nice)</span></span>
<span><span class="va">theme_FAMS</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">...</span><span class="op">)</span> <span class="op">{</span></span>
<span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_bw</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">theme</a></span><span class="op">(</span></span>
<span>   panel.grid.major<span class="op">=</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_blank</a></span><span class="op">(</span><span class="op">)</span>,panel.grid.minor<span class="op">=</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_blank</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>   axis.text<span class="op">=</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>size<span class="op">=</span><span class="fl">14</span>,color<span class="op">=</span><span class="st">"black"</span><span class="op">)</span>,</span>
<span>   axis.title<span class="op">=</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>size<span class="op">=</span><span class="fl">16</span>,color<span class="op">=</span><span class="st">"black"</span><span class="op">)</span>,</span>
<span>   axis.title.y<span class="op">=</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>angle<span class="op">=</span><span class="fl">90</span><span class="op">)</span>,</span>
<span>   axis.line<span class="op">=</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_line</a></span><span class="op">(</span>color<span class="op">=</span><span class="st">"black"</span><span class="op">)</span>,</span>
<span>   panel.border<span class="op">=</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_blank</a></span><span class="op">(</span><span class="op">)</span></span>
<span> <span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
</div>
<section class="level2"><h3 id="yield-as-a-function-of-conditional-natural-mortality">Yield as a function of conditional natural mortality<a class="anchor" aria-label="anchor" href="#yield-as-a-function-of-conditional-natural-mortality"></a>
</h3>
<p>The first figure will be a yield curve that displays the relationship between yield as a function of conditional natural mortality.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Total Yield vs Conditional Natural Mortality (cm)</span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span>data<span class="op">=</span><span class="va">Res_1</span>,mapping<span class="op">=</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">cm</span>,y<span class="op">=</span><span class="va">yieldTotal</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html" class="external-link">geom_line</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>y<span class="op">=</span><span class="st">"Total yield (g)"</span>,x<span class="op">=</span><span class="st">"Conditional natural mortality (cm)"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">theme_FAMS</span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure><p><img src="YPR_slotLimit_files/figure-html/generate%20yield%20plot-1.png" class="quarto-figure quarto-figure-center" width="720"></p>
</figure>
</div>
</div>
</div>
</section><section class="level2"><h3 id="number-of-fish-that-reach-a-specified-size-as-a-function-of-conditional-natural-mortality">Number of fish that reach a specified size as a function of conditional natural mortality<a class="anchor" aria-label="anchor" href="#number-of-fish-that-reach-a-specified-size-as-a-function-of-conditional-natural-mortality"></a>
</h3>
<p>The next figure demonstrates how to explore the number of fish reaching a specified length. This figure creates a plot showing the number of fish reaching 350mm as a function of conditional natural mortality.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#Plot number of fish reaching 350 mm as a function of cm</span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span>data<span class="op">=</span><span class="va">Res_1</span>,mapping<span class="op">=</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">cm</span> ,y<span class="op">=</span><span class="va">`nAt350`</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html" class="external-link">geom_line</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>y<span class="op">=</span><span class="st">"Number of fish at 450 mm"</span>,x<span class="op">=</span><span class="st">"Conditional natural mortality (cm )"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">theme_FAMS</span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure><p><img src="YPR_slotLimit_files/figure-html/Plot%20of%20fish%20reaching%20350mm-1.png" class="quarto-figure quarto-figure-center" width="720"></p>
</figure>
</div>
</div>
</div>
<p>The last example figure plots yield as a function of conditional natural mortality across the three size classes; above slot limit, within slot limit, and above slot limit.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Yield under, in, and above the slot limit vs Conditional Natural Mortality (cm)</span></span>
<span><span class="co"># Select columns for plotting</span></span>
<span><span class="va">plot_data</span> <span class="op">&lt;-</span> <span class="va">Res_1</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">cm</span>, <span class="va">yieldUnder</span>, <span class="va">yieldIn</span>, <span class="va">yieldAbove</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://tidyr.tidyverse.org/reference/pivot_longer.html" class="external-link">pivot_longer</a></span><span class="op">(</span><span class="op">!</span><span class="va">cm</span>, names_to<span class="op">=</span><span class="st">"YieldCat"</span>,values_to<span class="op">=</span><span class="st">"Yield"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Generate plot</span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span>data<span class="op">=</span><span class="va">plot_data</span>,mapping<span class="op">=</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">cm</span>,y<span class="op">=</span><span class="va">Yield</span>,group<span class="op">=</span><span class="va">YieldCat</span>,color<span class="op">=</span><span class="va">YieldCat</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_colour_discrete.html" class="external-link">scale_color_discrete</a></span><span class="op">(</span>name<span class="op">=</span><span class="st">"Yield"</span>,labels<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Above SL"</span>,<span class="st">"Within SL"</span>,<span class="st">"Under SL"</span><span class="op">)</span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html" class="external-link">geom_line</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>y<span class="op">=</span><span class="st">"Total yield (g)"</span>,x<span class="op">=</span><span class="st">"Conditional natural mortality (cm)"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">theme_FAMS</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">theme</a></span><span class="op">(</span>legend.position <span class="op">=</span> <span class="st">"top"</span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/guides.html" class="external-link">guides</a></span><span class="op">(</span>color<span class="op">=</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/guide_legend.html" class="external-link">guide_legend</a></span><span class="op">(</span>title<span class="op">=</span><span class="st">"Slot limit"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure><p><img src="YPR_slotLimit_files/figure-html/Plot%20of%20yield%20across%20all%20sizes-1.png" class="quarto-figure quarto-figure-center" width="720"></p>
</figure>
</div>
</div>
</div>
</section></section><script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'light-border',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config);
    }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script></main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Jason C. Doll, Derek H. Ogle.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
